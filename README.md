# DevOps Mission Control (`missionctl`)

DevOps Mission Control is a lightweight, agnostic CLI that unifies Kubernetes, Docker, cloud infrastructure, and observability tooling in one workflow.

Think of it as **k9s for the entire DevOps ecosystem**.

## Features

### Phase 1 (MVP)
- âœ… **Kubernetes**: Pods, Deployments, Services, Logs, Context switching
- âœ… **Docker**: Containers, Images, Compose
- âœ… **AWS**: EC2, S3, RDS, Cost Optimization basics
- âœ… **Git**: Status, Branches, Commits, Push/Pull
- âœ… **Lightweight**: Single Go binary, ~25MB, minimal dependencies
- âœ… **Plugin Architecture**: Extensible for custom commands


### Planned & In-Progress Features
- **Phase 2 (Planned/In Progress)**: GCP, Azure, Helm, Terraform, Network diagnostics
- **Phase 3 (Planned)**: Observability dashboard, Slack integration, Audit logging
- **Phase 4 (Planned)**: RBAC, CI/CD integrations, Multi-tenancy, DR workflows

> **Note:** Some features are marked as TODO in the codebase and are planned for future releases. See code comments for details.

### Diagrams & Screenshots
Architecture and workflow diagrams will be added soon. If you need a specific diagram, please open an issue.

## Installation

### From Source
```bash
git clone https://github.com/yourusername/devops-mission-control.git
cd devops-mission-control
go build -o missionctl
sudo mv missionctl /usr/local/bin/
```

### From Docker
```bash
docker pull yourusername/devops-mission-control:latest
alias missionctl='docker run --rm -v ~/.kube:/.kube -v ~/.aws:/.aws yourusername/devops-mission-control'
```

## Usage

```bash
# Show help
missionctl help

# Kubernetes operations
missionctl k8s pods list
missionctl k8s pods logs <pod-name>
missionctl k8s deployments list
missionctl k8s context list
missionctl k8s context switch <context>

# Docker operations
missionctl docker containers list
missionctl docker containers stop <container-id>
missionctl docker images list
missionctl docker compose up
missionctl docker compose down

# AWS operations
missionctl aws ec2 list
missionctl aws s3 list
missionctl aws rds list
missionctl aws cost optimize

# Git operations
missionctl git status
missionctl git branch list
missionctl git branch create <branch-name>
missionctl git commit "<message>"
missionctl git push
missionctl git pull
```

## Design Philosophy

- **Lightweight**: Single binary, fast startup, minimal memory footprint
- **Intuitive**: Agnostic command naming across all domains
- **Extensible**: Plugin system for custom commands
- **Safe**: Dry-run mode, confirmations on destructive operations
- **Audit-friendly**: Optional audit logging for compliance

## Project Structure

```
devops-mission-control/
â”œâ”€â”€ main.go           # Entry point
â”œâ”€â”€ cmd/              # Command implementations
â”‚   â”œâ”€â”€ root.go       # Root command
â”‚   â”œâ”€â”€ k8s.go        # Kubernetes commands
â”‚   â”œâ”€â”€ docker.go     # Docker commands
â”‚   â”œâ”€â”€ aws.go        # AWS commands
â”‚   â””â”€â”€ git.go        # Git commands
â”œâ”€â”€ pkg/              # Shared packages (future)
â”‚   â”œâ”€â”€ config/       # Configuration management
â”‚   â”œâ”€â”€ cache/        # Caching layer
â”‚   â””â”€â”€ plugins/      # Plugin system
â”œâ”€â”€ go.mod            # Go module file
â”œâ”€â”€ Dockerfile        # Container image
â”œâ”€â”€ .github/          # GitHub workflows
â”‚   â””â”€â”€ workflows/
â”‚       â”œâ”€â”€ ci.yml    # Testing & building
â”‚       â””â”€â”€ release.yml # Release automation
â”œâ”€â”€ README.md         # This file
â”œâ”€â”€ LICENSE           # MIT License
â””â”€â”€ docs/             # Documentation

```

## Development

### Prerequisites
- Go 1.21+
- Docker (for containerization)
- kubectl, docker, aws-cli (for testing)

### Setup
```bash
git clone https://github.com/yourusername/devops-mission-control.git
cd devops-mission-control
go mod download
go build
```

### Testing
```bash
go test ./...
```

### Building Docker Image
```bash
docker build -t yourusername/devops-mission-control:latest .
```

## Contributing

Contributions are welcome! Please:

1. Fork the repository
2. Create a feature branch (`git checkout -b feature/amazing-feature`)
3. Commit changes (`git commit -m 'Add amazing feature'`)
4. Push to branch (`git push origin feature/amazing-feature`)
5. Open a Pull Request

## Roadmap

- [ ] Phase 1: Core CLI framework (MVP)
- [ ] Phase 2: Advanced cloud features & multi-cloud
- [ ] Phase 3: Observability & monitoring dashboard
- [ ] Phase 4: Enterprise features (RBAC, audit, multi-tenancy)
- [ ] Community plugins marketplace

## License
**Authentication & RBAC**
- **Headers supported:**
	- **Authorization:** Bearer <token> â€” preferred. Provide a token generated by the CLI `missionctl token generate` command.
	- **X-Actor:** <username> â€” for local/testing only; bypasses token lookup and maps directly to the named user.
- **Role levels:**
	- **viewer**: read-only access (default for GET requests).
	- **operator**: mutate/create access (required for POST/PUT/DELETE endpoints).
	- **admin**: full access, including audit and destructive operations.
 - **Dashboard behavior:**
	- GET endpoints require `viewer` or higher.
	- POST/PUT/DELETE endpoints require `operator` or higher.
	- The `/api/audit` endpoint requires `admin`.
	- Tokens are stored in `tokens.json`. The dashboard watches the file and will pick up tokens created while the server is running (hot-reload). If a token is not found in-memory, the server will attempt to reload the file on validation miss.

Examples:

- Read metrics (viewer):

	curl -H "Authorization: Bearer <token>" http://localhost:8080/api/metrics

- Create an alert (operator required):

	curl -X POST -H "Authorization: Bearer <operator-token>" -d '{"name":"disk"}' http://localhost:8080/api/alerts

MIT License - see LICENSE file for details

## Support

- ğŸ“– Documentation: [docs/](./docs/)
- ğŸ› Issues: [GitHub Issues](https://github.com/yourusername/devops-mission-control/issues)
- ğŸ’¬ Discussions: [GitHub Discussions](https://github.com/yourusername/devops-mission-control/discussions)

---

Made with â¤ï¸ for DevOps engineers
